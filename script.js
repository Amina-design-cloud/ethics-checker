const topics = {
  plagiarism: {
    title: "æˆ‘é€™æ¨£å¯«ç®—æŠ„è¥²å—ï¼Ÿ",
    steps: [
      { q: "æ˜¯å¦æœ‰ä½¿ç”¨ä»–äººæ–‡ç« æˆ–å¥å­ä½†æœªè¨»æ˜å‡ºè™•ï¼Ÿ", y: "æ§‹æˆæŠ„è¥²ï¼Œè«‹è£œä¸Šæ­£ç¢ºå¼•ç”¨æ ¼å¼", n: 1 },
      { q: "æ˜¯å¦åƒ…æ›¿æ›éƒ¨åˆ†è©èªï¼Œä¿ç•™åŸå¥æ¶æ§‹ï¼Ÿ", y: "å±¬æ–¼å½æ”¹å¯«ï¼Œä»è¦–ç‚ºæŠ„è¥²", n: 2 },
      { q: "æ˜¯å¦ä½¿ç”¨AIç”Ÿæˆå…§å®¹ï¼Œä½†æœªè¨»æ˜ä¾†æºï¼Ÿ", y: "å»ºè­°æ¨™è¨»AIå”åŠ©ä¸¦ä¾æ•™å¸«è¦ç¯„è™•ç†", n: 3 },
      { q: "æ˜¯å¦ä½¿ç”¨äº†åœ–è¡¨æˆ–æ•¸æ“šï¼Œæœªæ¨™è¨»ä¾†æºï¼Ÿ", y: "å±¬æ–¼åœ–åƒ/æ•¸æ“šæŠ„è¥²ï¼Œè«‹åŠ ä¸Šè³‡æ–™å‡ºè™•", n: 4 },
      { q: "æ˜¯å¦æœ‰èˆ‡ä»–äººæäº¤çš„ä½œæ¥­æ¥µç‚ºç›¸ä¼¼ï¼Ÿ", y: "å¯èƒ½æ¶‰åŠæŠ„è¥²ï¼Œå»ºè­°ä¸»å‹•èªªæ˜ä¸¦é‡å¯«", n: "safe" }
    ]
  },
  ghostwriting: {
    title: "å¹«å¿™å¯«ä½œæ¥­æˆ–è«‹åˆ¥äººä»£å¯«æœƒæ€æ¨£ï¼Ÿ",
    steps: [
      { q: "æ˜¯å¦ç”±ä»–äººï¼ˆæœ‹å‹ã€å®¶æ•™ã€ä»£å¯«ç¶²ç«™ï¼‰å®Œæˆä½œæ¥­ï¼Ÿ", y: "å±¬æ–¼é•è¦ï¼Œæé¢è‡¨è¨˜éæˆ–é€€é¸è™•åˆ†", n: 1 },
      { q: "æ˜¯å¦è«‹AI/ç¶²è·¯å·¥å…·å®Œå…¨å–ä»£æ’°å¯«ï¼Ÿ", y: "é ˆä¾è¦å®šè¨»æ˜ä½¿ç”¨æƒ…æ³ï¼Œå¦å‰‡è¦–åŒä»£å¯«", n: 2 },
      { q: "æ˜¯å¦æ›¾å¹«åŒå­¸ä»£äº¤å ±å‘Šæˆ–ä¸Šå‚³ä½œæ¥­ï¼Ÿ", y: "æ¶‰åŠå­¸è¡“ä¸èª ä¿¡ï¼Œé›™æ–¹çš†æœ‰è²¬ä»»", n: 3 },
      { q: "æ˜¯å¦åƒèˆ‡æˆ–æä¾›ä»£åšæœå‹™çµ¦ä»–äººï¼Ÿ", y: "é•åå­¸è¡“è¦å®šï¼Œå°‡è¢«è™•åˆ†", n: 4 },
      { q: "æ˜¯å¦å› æ™‚é–“å£“åŠ›è€Œéè¦ªè‡ªå®Œæˆï¼Ÿ", y: "å»ºè­°å°‹æ±‚å»¶é•·æˆ–è¨è«–å”åŠ©ï¼Œä¸æ‡‰å§”è¨—ä»–äºº", n: "safe" }
    ]
  },
  reuse: {
    title: "èˆŠå ±å‘Šæ”¹ä¸€æ”¹å†äº¤ï¼Œå¯ä»¥å—ï¼Ÿ",
    steps: [
      { q: "æ˜¯å¦å°‡å‰ä¸€é–€èª²çš„ä½œæ¥­é‡äº¤æ–¼å¦ä¸€èª²ï¼Ÿ", y: "æœªç¶“æ•™å¸«åŒæ„å±¬é•è¦ï¼Œå»ºè­°é‡æ–°æ’°å¯«", n: 1 },
      { q: "æ˜¯å¦åªæ˜¯æ”¹æ¨™é¡Œæˆ–å…§å®¹ç¨å¾®ä¿®æ”¹ï¼Ÿ", y: "å±¬å½¢å¼æ›´å‹•ï¼Œä»ç‚ºé‡è¤‡ä½¿ç”¨", n: 2 },
      { q: "æ˜¯å¦æœªå‘æŒ‡å°è€å¸«èªªæ˜æ›¾ä½¿ç”¨è©²ä½œå“ï¼Ÿ", y: "å­˜æœ‰èª¤å°ä¹‹å«Œï¼Œæ‡‰ä¸»å‹•èªªæ˜", n: 3 },
      { q: "æ˜¯å¦åœ¨æ¯”è³½æˆ–æŠ•ç¨¿ä¸­é‡è¤‡ä½¿ç”¨åŒä¸€ä½œå“ï¼Ÿ", y: "ææ¶‰åŠä¸€ç¨¿å¤šæŠ•ï¼Œæ‡‰æŸ¥è©¢å„å–®ä½è¦å®š", n: 4 },
      { q: "æ˜¯å¦å¼•ç”¨è‡ªå·±èˆŠä½œå“å»æœªæ¨™è¨»ä¾†æºï¼Ÿ", y: "å»ºè­°åŠ è¨»è¨»è…³è¨»æ˜ç‚ºã€Œè‡ªå¼•ã€é¿å…èª¤è§£", n: "safe" }
    ]
  },
  falsification: {
    title: "æˆ‘æœ‰æ²’æœ‰åšå‡æ•¸æ“šæˆ–äº‚ç·¨è³‡æ–™ï¼Ÿ",
    steps: [
      { q: "æ˜¯å¦å¡«å¯«æœªå¯¦éš›å®Œæˆçš„å•å·æˆ–å¯¦é©—çµæœï¼Ÿ", y: "å±¬æ–¼è³‡æ–™é€ å‡ï¼Œé ˆç«‹å³åœæ­¢ä¸¦èªªæ˜åŸå› ", n: 1 },
      { q: "æ˜¯å¦åˆªé™¤ä¸ç¬¦åˆé æœŸçš„å¯¦é©—æ•¸æ“šï¼Ÿ", y: "é ˆåœ¨å ±å‘Šä¸­èªªæ˜ç†ç”±ï¼Œå¦å‰‡è¦–ç‚ºç¯¡æ”¹", n: 2 },
      { q: "æ˜¯å¦æœªå¯¦éš›è¨ªè«‡å»å¯«å‡ºã€Œå‡è¨ªè«‡å…§å®¹ã€ï¼Ÿ", y: "å±¬é€ å‡ï¼Œé•åç ”ç©¶å€«ç†", n: 3 },
      { q: "æ˜¯å¦ä½¿ç”¨ç¶²è·¯çµ±è¨ˆæ•¸æ“šä½†æœªè¨»æ˜ä¾†æºï¼Ÿ", y: "æ˜“è¢«è¦–ç‚ºä¸å¯¦å¼•ç”¨ï¼Œè«‹åŠ ä¸Šå‡ºè™•", n: 4 },
      { q: "æ˜¯å¦ç‚ºäº†è®“å ±å‘Šå¥½çœ‹è€Œæ”¹å‹•åˆ†ææ–¹å¼ï¼Ÿ", y: "å»ºè­°æ“šå¯¦å‘ˆç¾æ‰€æœ‰è³‡æ–™ï¼Œé¿å…èª¤å°", n: "safe" }
    ]
  },
  citation: {
    title: "æˆ‘é€™æ¨£å¼•ç”¨ç®—ä¸ç•¶å—ï¼Ÿ",
    steps: [
      { q: "æ˜¯å¦æœªæ¨™è¨»å¼•ç”¨ä¾†æºï¼ˆæ›¸åã€é æ•¸ã€ç¶²å€ï¼‰ï¼Ÿ", y: "è¦–ç‚ºä¸ç•¶å¼•ç”¨ï¼Œéœ€è£œå……å®Œæ•´å‡ºè™•", n: 1 },
      { q: "æ˜¯å¦åªå¯«ã€ŒæŸæŸç¶²è·¯æ–‡ç« ã€è€Œç„¡å…·é«”é€£çµï¼Ÿ", y: "å»ºè­°è£œä¸Šæ˜ç¢ºä¾†æºèˆ‡æŸ¥é–±æ™‚é–“", n: 2 },
      { q: "æ˜¯å¦éåº¦å¼•ç”¨æŸä¸€è³‡æ–™ï¼Œé€ æˆä¾è³´ï¼Ÿ", y: "å»ºè­°å¤šå…ƒå¼•ç”¨ï¼Œå±•ç¾è‡ªä¸»æ€è¾¨èƒ½åŠ›", n: 3 },
      { q: "æ˜¯å¦ç›´æ¥ç¿»è­¯å¤–æ–‡è³‡æ–™ä½†æœªè¨»æ˜ï¼Ÿ", y: "è¦–åŒé–“æ¥å¼•ç”¨ï¼Œæ‡‰è¨»æ˜åŸæ–‡å‡ºè™•", n: 4 },
      { q: "æ˜¯å¦å°‡åŒå­¸æˆ–å ±å‘Šç¾¤çµ„çš„è¨è«–å…§å®¹å¯«é€²å ±å‘Šï¼Ÿ", y: "å»ºè­°è¨»æ˜ç‚ºã€Œå…±åŒè¨è«–æˆæœã€ï¼Œé¿å…èª¤è§£ç‚ºæŠ„è¥²", n: "safe" }
    ]
  }
};

document.getElementById("topic-select").addEventListener("change", function () {
  const topic = this.value;
  const container = document.getElementById("questions");
  const result = document.getElementById("result");
  container.innerHTML = "";
  result.innerHTML = "";

  if (!topics[topic]) return;

  let current = 0;
  const steps = topics[topic].steps;

  const renderStep = (index) => {
    container.innerHTML = `
      <div class="question">
        <p><strong>${topics[topic].title}</strong></p>
        <p>${steps[index].q}</p>
        <button onclick="nextStep('${topic}', ${index}, true)">æ˜¯</button>
        <button onclick="nextStep('${topic}', ${index}, false)">å¦</button>
      </div>
    `;
  };

  window.nextStep = (topicKey, stepIndex, isYes) => {
    const step = topics[topicKey].steps[stepIndex];
    if (isYes) {
      result.innerHTML = `ğŸ”” å»ºè­°ï¼š${step.y}`;
      container.innerHTML = "";
    } else {
      if (step.n === "safe") {
        result.innerHTML = "âœ… åˆæ­¥çœ‹ä¾†æ²’æœ‰æ˜é¡¯é•è¦ï¼Œä½†ä»å»ºè­°è‡ªæˆ‘æª¢æŸ¥ã€‚";
        container.innerHTML = "";
      } else {
        renderStep(step.n);
      }
    }
  };

  renderStep(current);
});
